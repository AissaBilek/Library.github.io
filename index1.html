<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Library</title>
</head>
<body>
  

  <button id="addnewbook" >
    Add new book
  </button>
  <dialog id="dialoguee">
    <form id="myForm">
      <label for="titlee">
        Title
      </label>
      <input type="text" id="titleinput" required><br><br>


      <label for="author">
        Name of author
      </label>
      <input type="text" id="authorinput" required><br>


      <label for="number">
        number of pages
      </label>
      <input type="number" id="numberofpagesinput" required><br><br>
      <label for="string">
        read
      </label>
      <input type="text" id="readinput" required><br>
      <button type="submit" id="add-button" >
        Add
      </button>
      <button id="close-button">
        Close
      </button>
    </form>
  </dialog>

  <div id="divLib"></div>


  <script>
let countBook=-1;
function Book (title,author,pages,read,id){
this.title=title;
this.author=author;
this.pages=pages;
this.read=read;
this.id=id;
this.info=function infos(){
  console.log(`the ${title} , ${author},number of ages${pages},not ${read}`)

 
}}



let Library=[];
let title;
let author;
let pages;
let read;
let id;

//adding the books to library
function addBoooktoLibrary(){
        
      title=document.getElementById('titleinput').value;
      author=document.getElementById('authorinput').value;
      pages=document.getElementById('numberofpagesinput').value;
      read=document.getElementById('readinput').value;

      countBook+=1;



      const objectBook = new Book(title, author, pages, read,countBook);
      console.log(objectBook);
      Library.push(objectBook)
}
  
//code for "add new book"button in the dialogue
const addbookButton=document.getElementById('addnewbook');
const Modal=document.getElementById('dialoguee');
addbookButton.addEventListener('click',function(){
Modal.showModal();
const resetModal=document.getElementById('myForm');
resetModal.reset();

})
//code for close button
const closeButtonn=document.getElementById('close-button');
closeButtonn.addEventListener("click",function(event){
  event.preventDefault();
  Modal.close();
 
})

//code for add button in the dialgoue


const addButtonmodal=document.getElementById('add-button');
addButtonmodal.addEventListener("click",function(event){
  event.preventDefault();
  addBoooktoLibrary();
  const resetModal=document.getElementById('myForm');
  resetModal.reset();
  Modal.close();
  afficheLivre();
  ecrire();
  afficheProprité();


})

  //creature des nouveaux elements.

  function afficheLivre(bookDiv,title1,author1,pages1,read1,removeButton){

        bookDiv=document.createElement('div');
        bookDiv.id="divbook";
        title1=document.createElement('div');
        author1=document.createElement('div');
        pages1=document.createElement('div');
        read1=document.createElement("div");
        removeButton=document.createElement("button");
        
        
        removeButton.addEventListener("click",function(){
            const element1=document.getElementById("divbook")
            element1.remove();
})}
function ecrire (title1,author1,pages1,read1,removeButton){
        title1=document.createElement('div');
        author1=document.createElement('div');
        pages1=document.createElement('div');
        read1=document.createElement("div");
        removeButton=document.createElement("button");
        
        title1.innerText=` the title of the book is:${title}`
        author1.innerText=`the author of the book is:${author}`
        pages1.innerText=`number of pages of this book is:${pages}`
        read1.innerText=`did you read this book or not?${read}`
        removeButton.innerText="remove";
}
  function afficheProprité(bookDiv,title1,author1,pages1,read1,removeButton){
        bookDiv.appendChild(title1)
        bookDiv.appendChild(read1)
        bookDiv.appendChild(author1)
        bookDiv.appendChild(pages1)
        bookDiv.appendChild(removeButton);
        document.body.appendChild(bookDiv);

  }










//second remove the same book from the library
//remove the book from the webpage

  

</script>


          
</body>
</html>